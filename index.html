<!DOCTYPE html>
<html>

<head>

</head>

<body>
    <div class="output">
        <div class="message">

        </div>
        <input type="number" />
        <button>Guess</button>
    </div>
    <script>
        let game = {"min":1, "max":10};


        document.addEventListener("DOMContentLoaded", function () {
            //this function is executed only when the DOM content is fully loaded
            console.log("DOM is Ready!");
            game.output = document.querySelector(".output");
            game.message = document.querySelector(".message");
            game.guessInput = document.querySelector("input");
            game.btn = document.querySelector("button");
            game.btn.addEventListener("click", guessValue);
            console.log(game);

            init();
        })

        function init(){
            game.guesses = 0;
            game.randomNumber = randomNumber(game.min, game.max);
            let tempMessage = "Welcome to the game. Guess a number between " + game.min + " and " + game.max;
            message(tempMessage, "blue");
        }
        function randomNumber(min, max){            
            //min=3, max=10
            //max-min: 10-3 = 7
            //max-min+1: 10-3+1 = 8
            //Math.random(): returns 0.00000....1 ~ 0.999999999.....
            //Math.random()*7: returns  1 ~ 6
            //Math.random()*(7+1+3): returns  1 ~ 10
            //so we added (+min) to the above returned number to make it greater than 'min'

            return Math.floor(Math.random()*(max-min+1)+min)
        }
        function guessValue(){
            game.guesses++;
            let tempGuess = game.guessInput.value;
            tempGuess = parseInt(tempGuess);
            if(isNaN(tempGuess)){
                message("Please enter only digits", "red");
            }
            else if(tempGuess == game.randomNumber){
                message("Correct! you guessed " + game.randomNumber + " in " + game.guesses + " guesses", "green");
            }
            else{
                let holder = {message:"", color:""};
                if(tempGuess > game.randomNumber){
                    holder.message = "Was Lower";
                    holder.color = "blue";
                }
                else{
                    holder.message = "Was Higher";
                    holder.color = "purple";
                }
                message(holder.message, holder.color);
                game.guessInput.style.borderColor = holder.color;
            }
        }
        function message(message, color){
            game.message.innerHTML = message;
            game.message.style.color = color || "black";
        }


    </script>
</body>

</html>